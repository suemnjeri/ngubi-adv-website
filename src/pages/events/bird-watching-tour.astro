---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import EventForm from '../../components/EventForm.astro';


// --- IMPORTANT: This is the data that gets imported by events.astro and index.astro ---
export const eventData = {
    title: 'Bird Watching',
    eventDate: new Date('2025-10-25'),
    eventTime: '9:00 AM',
    location: 'Ngubi Forest Trailhead',
    eventImage: '/images/events/event3-birds.jpg',
    description: 'Join us for an enlightening guided walk through the forest. Discover the hidden life of the Kikuyu Escarpment, learn about native flora and fauna, and understand the importance of biodiversity in our ecosystem.',
    featured: true, // Set to 'true' to show on the homepage
    isFree: false, // <--- ADD THIS LINE
    price: 'Ksh 500 per person',
    registerLink: 'https://forms.gle/your-registration-link', 
};
---

<Layout title={eventData.title}>
    <Header />
    <main class="max-w-app mx-auto px-4 pt-20">
        <section class="prose py-12">
            <h1>{eventData.title}</h1>
            <img src={eventData.eventImage} alt={eventData.title} class="rounded-lg shadow-lg mb-6 w-full max-w-md mx-auto" />
            <!-- <img src={eventData.eventImage} alt={eventData.title} class="rounded-lg shadow-lg mb-6 w-full max-w-xl mx-auto" /> -->
            <div class="flex flex-col sm:flex-row sm:space-x-4 mb-6">
                <div class="flex items-center space-x-2">
                    <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                    <span>{eventData.eventDate.toLocaleString('en-US', { dateStyle: 'long' })}</span>
                </div>
                {eventData.eventTime && (
                    <div class="flex items-center space-x-2">
                        <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span>{eventData.eventTime}</span>
                    </div>
                )}
                {eventData.location && (
                    <div class="flex items-center space-x-2">
                        <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        <span>{eventData.location}</span>
                    </div>
                )}
            </div>

            <p class="text-lg my-4">{eventData.description}</p>
            
            {eventData.price && (
                <p class="text-xl font-semibold my-4">Price: {eventData.price}</p>
            )}
            
            {eventData.isFree ? (
            <EventForm />
            ) : (
            <a 
                href={eventData.registerLink} 
                class="inline-block px-6 py-3 text-lg bg-accent text-white rounded-full font-semibold whitespace-nowrap hover:bg-accent-dark transition-colors duration-200 shadow-lg"
                target="_blank"
                rel="noopener noreferrer"
            >
                Register Now
            </a>
            )}
        </section>
    </main>
    <Footer />
</Layout>