---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
// Removed EventForm import since it's no longer needed

// --- IMPORTANT: This is the data that gets imported by events.astro and index.astro ---
export const eventData = {
    title: 'Ngubi to Escarptment View Mt Bike Ride',
    eventDate: new Date('2026-2-7'),
    eventTime: '8:30 AM',
    location: 'Ngubi Adventures Forest Camp',
    eventImage: '/images/events/mtb-7th-feb-26.webp',
    description: 'Join us for an Easy Mountain Bike group ride to the Escarpment for rewarding viewsðŸŒ¿ Meet & park at Ngubi Adventures Forest Camp, Limuru. Bring your own bike. We also have bikes available for hire at 1,000 per MTB. Contact 0712505845 to join.',
    featured: true, 
    isFree: true,
    price: 'Ksh 0 per person',
    // registerLink removed
};
---

<Layout title={eventData.title}>
    <Header />
    <main class="max-w-app mx-auto px-4 pt-20">
        <section class="prose py-12">
            <h1>{eventData.title}</h1>
            <img src={eventData.eventImage} alt={eventData.title} class="rounded-lg shadow-lg mb-6 w-full max-w-md mx-auto" />

            <div class="flex flex-col sm:flex-row sm:space-x-4 mb-6">
                <div class="flex items-center space-x-2">
                    <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                    <span>{eventData.eventDate.toLocaleString('en-US', { dateStyle: 'long' })}</span>
                </div>
                {eventData.eventTime && (
                    <div class="flex items-center space-x-2">
                        <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span>{eventData.eventTime}</span>
                    </div>
                )}
                {eventData.location && (
                    <div class="flex items-center space-x-2">
                        <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        <span>{eventData.location}</span>
                    </div>
                )}
            </div>

            <p class="text-lg my-4">{eventData.description}</p>
            
            {eventData.price && (
                <p class="text-xl font-semibold my-4">Price: {eventData.price}</p>
            )}
            
            {/* CHANGED: Removed the form/registration logic and replaced with a Call/WhatsApp CTA */}
            <div class="mt-8">
                <a 
                    href="https://wa.me/254712505845?text=Hi%20Ngubi%20Adventures!%20I'm%20interested%20in%20joining%20the%20Mountain%20Bike%20Ride%20event." 
                    target="_blank" 
                    rel="noopener noreferrer"
                    class="inline-block px-8 py-4 text-lg bg-accent text-white rounded-full font-semibold whitespace-nowrap hover:bg-accent-dark transition-colors duration-200 shadow-lg no-underline"
                >
                    Whatsapp to Join: 0712505845
                </a>
                <p class="text-sm text-text-muted mt-3">Reach out via phone or WhatsApp to secure your spot!</p>
            </div>
        </section>
    </main>
    <Footer />
</Layout>